<section class="nightResult" data-ng-controller="NightResultsController" data-ng-init="loadGames();">
<h2>Game Night</h2>
<p>
	<div><strong>Started:</strong> {{nightStarted | amDateFormat:'dddd, YYYY-MM-DD, hh:mm:ss a'}}</div>
	<div><strong>Stopped:</strong> {{nightStopped | amDateFormat:'dddd, YYYY-MM-DD, hh:mm:ss a'}}</div>
</p>
<h2>Team Results</h2>
<div class="teamResult">
	<div ng-repeat="team in result.teams | orderBy: '-wins'">
		<div class="row result">
			<div class="col-lg-4">
				<strong>{{$index + 1}}.</strong>&nbsp;Team&nbsp;-&nbsp;<span ng-repeat="participant in team.participants">{{participant.name}}{{$last ? '' : ', '}}</span>
			</div>
			<div class="col-lg-4">
				<div>Wins: {{team.wins}}</div>
			</div>
			<div ng-if="$first" class="col-lg-4">
				<i class="glyphicon glyphicon-star result"></i>
			</div>
		</div>
	</div>
</div>
<h2>Game Results</h2>
<div ng-repeat="game in result.games">
	
	<h3>{{game.title}}</h3>
	<h4>Score type: {{game.type}}</h4>
	<div ng-if="game.type=='Points'" ng-repeat="gameTeam in game.gameTeams | orderBy: '-highestScore'">
		<div class="row result">
			<div class="col-lg-4"><label>Highest score: </label> {{gameTeam.highestScore}} </div>
			<div class="col-lg-4"><label>Team: </label> <span ng-repeat="participant in gameTeam.participants">{{participant.name}}{{$last ? '' : ', '}}</span></div>
			<div ng-if="$first" class="col-lg-4">
				<i class="glyphicon glyphicon-star result"></i>
			</div>
		</div>
	</div>
	<div ng-if="game.type=='Time'" ng-repeat="gameTeam in game.gameTeams | orderBy: 'highestScore'">
		<div class="row result">
			<div class="col-lg-4"><label>Highest score: </label> {{gameTeam.highestScoreToTime}} </div>
			<div class="col-lg-4"><label>Team: </label> <span ng-repeat="participant in gameTeam.participants">{{participant.name}}{{$last ? '' : ', '}}</span></div>
			<div ng-if="$first" class="col-lg-4">
				<i class="glyphicon glyphicon-star result"></i>
			</div>
		</div>
	</div>
</div>
	
</section>
